$pf-c-masthead--breakpoint-map: build-breakpoint-map();
$pf-c-masthead--inset-map: build-spacer-map("none", "sm", "md", "lg", "xl", "2xl");

.pf-c-masthead {
  --pf-c-masthead--BackgroundColor: var(--pf-global--BackgroundColor--dark-100);
  --pf-c-masthead--inset: var(--pf-global--spacer--lg);

  // insets
  --pf-c-masthead--m-page-insets--inset: var(--pf-global--spacer--md);
  --pf-c-masthead--m-page-insets--xl--inset: var(--pf-global--spacer--lg);

  // children
  --pf-c-masthead--first-child--PaddingLeft: var(--pf-c-masthead--inset);
  --pf-c-masthead--last-child--PaddingRight: var(--pf-c-masthead--inset);

  // brand
  --pf-c-masthead__brand--Order: -1;
  --pf-c-masthead__brand--BorderBottomWidth: var(--pf-global--BorderWidth--sm);
  --pf-c-masthead__brand--BorderBottomColor: var(--pf-global--palette--black-600);
  --pf-c-masthead__brand--BorderBottom: var(--pf-c-masthead__brand--BorderBottomWidth) solid var(--pf-c-masthead__brand--BorderBottomColor);
  --pf-c-masthead__brand--PaddingTop: var(--pf-global--spacer--sm);
  --pf-c-masthead__brand--PaddingRight: var(--pf-c-masthead--inset);
  --pf-c-masthead__brand--PaddingBottom: var(--pf-global--spacer--sm);
  --pf-c-masthead__brand--PaddingLeft: var(--pf-c-masthead--inset);

  // toggle
  --pf-c-masthead__toggle--PaddingLeft: var(--pf-c-masthead--inset);

  // content
  --pf-c-masthead__content--PaddingTop: var(--pf-global--spacer--sm);
  --pf-c-masthead__content--PaddingRight: var(--pf-global--spacer--md);
  --pf-c-masthead__content--PaddingBottom: var(--pf-global--spacer--sm);
  --pf-c-masthead__content--PaddingLeft: var(--pf-global--spacer--xs);

  // stack
  --pf-c-masthead--m-display-stack--Display: grid;
  --pf-c-masthead--m-display-stack__brand--Order: -1;
  --pf-c-masthead--m-display-stack__brand--BorderBottom: var(--pf-c-masthead__brand--BorderBottomWidth) solid var(--pf-c-masthead__brand--BorderBottomColor);
  --pf-c-masthead--m-display-stack__brand--PaddingRight: var(--pf-c-masthead--inset);
  --pf-c-masthead--m-display-stack__brand--PaddingLeft: var(--pf-c-masthead--inset);
  --pf-c-masthead--m-display-stack__content--PaddingLeft: var(--pf-global--spacer--xs);

  // inline
  --pf-c-masthead--m-display-inline--Display: flex;
  --pf-c-masthead--m-display-inline__brand--Order: 0;
  --pf-c-masthead--m-display-inline__brand--BorderBottom: 0;
  --pf-c-masthead--m-display-inline__brand--PaddingRight: var(--pf-global--spacer--sm);
  --pf-c-masthead--m-display-inline__brand--PaddingLeft: var(--pf-global--spacer--sm);
  --pf-c-masthead--m-display-inline__content--PaddingLeft: var(--pf-global--spacer--lg);

  // light 100
  --pf-c-masthead--m-light-100--BackgroundColor: var(--pf-global--BackgroundColor--100);
  --pf-c-masthead--m-light-100__brand--BorderBottomColor: var(--pf-global--palette--black-200);

  // light 200
  --pf-c-masthead--m-light-200--BackgroundColor: var(--pf-global--BackgroundColor--200);
  --pf-c-masthead--m-light-200__brand--BorderBottomColor: var(--pf-global--palette--black-300);

  @media screen and (min-width: $pf-global--breakpoint--md) {
    --pf-c-masthead--Display: var(--pf-c-masthead--md--Display);
  }

  @media screen and (min-width: $pf-global--breakpoint--xl) {
    --pf-c-toolbar--m-page-insets--inset: var(--pf-c-toolbar--m-page-insets--xl--inset);
  }

  --pf-c-masthead--FlexWrap: wrap;
  --pf-c-masthead__brand--FlexBasis: 100%;
  --pf-c-masthead--m-display-stack--FlexWrap: wrap;
  --pf-c-masthead--m-display-stack__brand--FlexBasis: 100%;
  --pf-c-masthead--m-display-inline--FlexWrap: nowrap;
  --pf-c-masthead--m-display-inline__brand--FlexBasis: auto;

  position: relative;
  display: flex;
  flex-wrap: var(--pf-c-masthead--FlexWrap);
  align-items: center;
  min-width: 0;
  background-color: var(--pf-c-masthead--BackgroundColor);

  @media screen and (min-width: $pf-global--breakpoint--md) {
    --pf-c-masthead--Display: var(--pf-c-masthead--m-display-inline--Display);
    --pf-c-masthead--FlexWrap: var(--pf-c-masthead--m-display-inline--FlexWrap);
    --pf-c-masthead__brand--Order: var(--pf-c-masthead--m-display-inline__brand--Order);
    --pf-c-masthead__brand--FlexBasis: var(--pf-c-masthead--m-display-inline__brand--FlexBasis);
    --pf-c-masthead__brand--PaddingRight: var(--pf-c-masthead--m-display-inline__brand--PaddingRight);
    --pf-c-masthead__brand--PaddingLeft: var(--pf-c-masthead--m-display-inline__brand--PaddingLeft);
    --pf-c-masthead__brand--BorderBottom: 0;
    --pf-c-masthead__content--PaddingLeft: var(--pf-c-masthead--m-display-inline__content--PaddingLeft);
  }

  > :first-child {
    padding-left: var(--pf-c-masthead--first-child--PaddingLeft);
  }

  > :last-child {
    padding-right: var(--pf-c-masthead--last-child--PaddingRight);
  }

  @include pf-t-dark; // force the container to follow the dark theme

  &.pf-m-light-100 {
    @include pf-t-light;

    --pf-c-masthead--BackgroundColor: var(--pf-c-masthead--m-light-100--BackgroundColor);
    --pf-c-masthead__brand--BorderBottomColor: var(--pf-c-masthead--m-light-100__brand--BorderBottomColor);
  }

  &.pf-m-light-200 {
    @include pf-t-light;

    --pf-c-masthead--BackgroundColor: var(--pf-c-masthead--m-light-200--BackgroundColor);
    --pf-c-masthead__brand--BorderBottomColor: var(--pf-c-masthead--m-light-200__brand--BorderBottomColor);
  }

  &.pf-m-page-insets {
    --pf-c-masthead--inset: var(--pf-c-masthead--m-page-insets--inset);
  }
}

// brand
.pf-c-masthead__brand {
  display: flex;
  flex-basis: var(--pf-c-masthead__brand--FlexBasis);
  order: var(--pf-c-masthead__brand--Order);
  grid-column: span 2; // ignored in flex layout
  padding: var(--pf-c-masthead__brand--PaddingTop) var(--pf-c-masthead__brand--PaddingRight) var(--pf-c-masthead__brand--PaddingBottom) var(--pf-c-masthead__brand--PaddingLeft);
  border-bottom: var(--pf-c-masthead__brand--BorderBottom);
}

.pf-c-masthead__toggle {
  grid-row: 2; // ignored in flex layout
  grid-column: 1; // ignored in flex layout
  padding-left: var(--pf-c-masthead__toggle--PaddingLeft);

  .pf-c-button {
    margin-left: calc(var(--pf-c-button--PaddingLeft) * -1);
  }
}

.pf-c-masthead__content {
  display: flex;
  grid-row: 2; // ignored in flex layout
  grid-column: 2; // ignored in flex layout
  flex: 1;
  align-items: center;
  align-self: stretch;
  padding: var(--pf-c-masthead__content--PaddingTop) var(--pf-c-masthead__content--PaddingRight) var(--pf-c-masthead__content--PaddingBottom) var(--pf-c-masthead__content--PaddingLeft);
}

// stylelint-disable no-duplicate-selectors
.pf-c-masthead {
  @each $breakpoint, $breakpoint-value in $pf-c-masthead--breakpoint-map {
    $breakpoint-name: if($breakpoint != "base", -on-#{$breakpoint}, "");

    @include pf-apply-breakpoint($breakpoint, $pf-c-masthead--breakpoint-map) {
      &.pf-m-display-stack#{$breakpoint-name} {
        --pf-c-masthead--Display: var(--pf-c-masthead--m-display-stack--Display);
        --pf-c-masthead--FlexWrap: var(--pf-c-masthead--m-display-stack--FlexWrap);
        --pf-c-masthead__brand--Order: var(--pf-c-masthead--m-display-stack__brand--Order);
        --pf-c-masthead__brand--FlexBasis: var(--pf-c-masthead--m-display-stack__brand--FlexBasis);
        --pf-c-masthead__brand--PaddingRight: var(--pf-c-masthead--m-display-stack__brand--PaddingRight);
        --pf-c-masthead__brand--PaddingLeft: var(--pf-c-masthead--m-display-stack__brand--PaddingLeft);
        --pf-c-masthead__brand--BorderBottom: var(--pf-c-masthead--m-display-stack__brand--BorderBottom);
        --pf-c-masthead__content--PaddingLeft: var(--pf-c-masthead--m-display-stack__content--PaddingLeft);
      }

      &.pf-m-display-inline#{$breakpoint-name} {
        --pf-c-masthead--Display: var(--pf-c-masthead--m-display-inline--Display);
        --pf-c-masthead--FlexWrap: var(--pf-c-masthead--m-display-inline--FlexWrap);
        --pf-c-masthead__brand--Order: var(--pf-c-masthead--m-display-inline__brand--Order);
        --pf-c-masthead__brand--FlexBasis: var(--pf-c-masthead--m-display-inline__brand--FlexBasis);
        --pf-c-masthead__brand--PaddingRight: var(--pf-c-masthead--m-display-inline__brand--PaddingRight);
        --pf-c-masthead__brand--PaddingLeft: var(--pf-c-masthead--m-display-inline__brand--PaddingLeft);
        --pf-c-masthead__brand--BorderBottom: 0;
        --pf-c-masthead__content--PaddingLeft: var(--pf-c-masthead--m-display-inline__content--PaddingLeft);
      }
    }

    @include pf-apply-breakpoint($breakpoint, $pf-c-masthead--breakpoint-map) {
      @each $spacer, $spacer-value in $pf-c-masthead--inset-map {
        &.pf-m-inset-#{$spacer}#{$breakpoint-name} {
          --pf-c-masthead--inset: #{$spacer-value};
        }
      }
    }
  }
}
// stylelint-enable

// stylelint-disable no-duplicate-selectors
// .pf-c-masthead {
//   &,
//   .pf-c-toolbar,
//   .pf-c-toolbar__content,
//   .pf-c-toolbar__content-section,
//   .pf-c-toolbar__group,
//   .pf-c-toolbar__toggle-group,
//   .pf-c-toolbar__item {
//     align-self: stretch;
//   }

//   // .pf-c-toolbar__toggle-group,
//   // .pf-c-toolbar__item {
//   //   align-items: stretch;
//   // }

//   .pf-c-toolbar {
//     --pf-c-toolbar--PaddingTop: 0;
//     --pf-c-toolbar--PaddingBottom: 0;

//     // content
//     // --pf-c-toolbar__content--PaddingRight: var(--pf-c-masthead--c-toolbar__content--PaddingRight);
//     // --pf-c-toolbar__content--PaddingLeft: var(--pf-c-masthead--c-toolbar__content--PaddingLeft);

//     @media screen and (min-width: $pf-global--breakpoint--lg) {
//       --pf-c-toolbar__expandable-content--lg--PaddingRight: var(--pf-global--spacer--md);
//       --pf-c-toolbar__expandable-content--lg--PaddingBottom: var(--pf-global--spacer--md);
//       --pf-c-toolbar__expandable-content--lg--PaddingLeft: var(--pf-global--spacer--md);
//     }

//     flex-basis: 100%;
//   }

//   .pf-c-toolbar,
//   .pf-c-toolbar__content {
//     position: static;
//   }

//   .pf-c-toolbar__item {
//     display: var(--pf-c-masthead-content--c-toolbar__item--Display);
//     align-items: center;
//   }

//   .pf-c-toolbar__content {
//     .pf-c-context-selector {
//       align-self: stretch;

//       .pf-c-context-selector__toggle {
//         height: 100%;
//       }
//     }

//     .pf-c-dropdown {
//       display: flex;
//       align-self: stretch;

//       .pf-c-dropdown__toggle:not(.pf-m-plain) {
//         height: 100%;
//       }
//     }
//   }

//   .pf-c-toolbar__content-section {
//     flex-wrap: nowrap;
//   }

//   // set here so it's persistent
//   .pf-c-toolbar__expandable-content {
//     position: absolute;
//   }

//   // .pf-c-toolbar__content-section {
//   //   flex-wrap: nowrap;
//   // }

//   // .pf-c-toolbar__group {
//   //   flex-wrap: wrap;
//   // }
// }
// stylelint-enable


// .pf-c-masthead__content {
//   .pf-c-context-selector {
//     --pf-c-context-selector__toggle--PaddingRight: var(--pf-global--spacer--lg);
//     --pf-c-context-selector__toggle--PaddingLeft: var(--pf-global--spacer--lg);
//     --pf-c-context-selector__toggle--BorderRightColor: var(--pf-global--palette--black-700);
//     --pf-c-context-selector__toggle--BorderLeftColor: var(--pf-global--palette--black-700);

//     width: 100%;
//     box-shadow: none;
//   }

//   .pf-c-context-selector__toggle::before {
//     border-top: 0;

//     // border-right: 0;
//     // border-left: 0;
//   }

//   .pf-c-context-selector:hover .pf-c-context-selector__toggle::before,
//   .pf-c-dropdown:hover .pf-c-dropdown__toggle::before {
//     border-bottom-width: 4px;
//   }

//   .pf-c-dropdown {
//     --pf-c-dropdown__toggle--PaddingRight: var(--pf-global--spacer--md);
//     --pf-c-dropdown__toggle--PaddingLeft: var(--pf-global--spacer--md);
//     --pf-c-dropdown__toggle--before--BorderWidth: 0;
//   }
// }
