@use '../../sass-utilities' as *;
@use './progress-stepper-layout';
@use './progress-stepper-layout-breakpoints';

@include pf-root($progress-stepper) {
  // * Progress stepper
  --#{$progress-stepper}--RowGap: var(--pf-t--global--spacer--xl);
  --#{$progress-stepper}--ColumnGap: var(--pf-t--global--spacer--sm);

  // Progress stepper step
  --#{$progress-stepper}__step--RowGap: var(--pf-t--global--spacer--sm);
  --#{$progress-stepper}__step--ColumnGap: var(--pf-t--global--spacer--sm);

  // Progress stepper step main
  --#{$progress-stepper}__step-main--RowGap: var(--pf-t--global--spacer--xs);
  --#{$progress-stepper}__step-main--ColumnGap: var(--pf-t--global--spacer--sm);

  // * Progress stepper step title
  --#{$progress-stepper}__step-title--FontSize: var(--pf-t--global--font--size--body--lg);
  --#{$progress-stepper}__step-title--FontWeight: var(--pf-t--global--font--weight--body--default);
  --#{$progress-stepper}__step-title--Color: var(--pf-t--global--text--color--regular);

  // * Progress stepper step description
  --#{$progress-stepper}__step-description--FontSize: var(--pf-t--global--font--size--body--sm);
  --#{$progress-stepper}__step-description--Color: var(--pf-t--global--text--color--subtle);

  // * Progress stepper step icon
  --#{$progress-stepper}__step-icon--size: #{pf-size-prem(24px)};
  --#{$progress-stepper}__step-icon--ZIndex: var(--pf-t--global--z-index--xs);
  --#{$progress-stepper}__step-icon--FontSize: var(--pf-t--global--icon--size--font--body--default);
  --#{$progress-stepper}__step-icon--Color: var(--pf-t--global--icon--color--regular);
  --#{$progress-stepper}__step-icon--BackgroundColor: var(--pf-t--global--background--color--primary--default);
  --#{$progress-stepper}__step-icon--BorderWidth: var(--pf-t--global--border--width--box--default);
  --#{$progress-stepper}__step-icon--BorderColor: var(--pf-t--global--border--color--default);

  // * Progress stepper step step title
  --#{$progress-stepper}__step--m-danger__step-title--Color: var(--pf-t--global--text--color--status--danger--default);
  --#{$progress-stepper}__step--m-pending__step-title--Color: var(--pf-t--global--text--color--subtle);
  --#{$progress-stepper}__step--m-danger__step-title--m-help-text--hover--Color: var(--pf-t--global--text--color--status--danger--hover);

  // * Progress stepper step current step title
  --#{$progress-stepper}__step--m-current__step-title--FontWeight: var(--pf-t--global--font--weight--body--bold);
  --#{$progress-stepper}__step--m-current__step-title--Color: var(--pf-t--global--text--color--regular);
  --#{$progress-stepper}__step--m-current__step-icon--Color: var(--pf-t--global--icon--color--brand--default);
  --#{$progress-stepper}__step--m-info__step-icon--Color: var(--pf-t--global--icon--color--status--info--default);
  --#{$progress-stepper}__step--m-success__step-icon--Color: var(--pf-t--global--icon--color--status--success--default);
  --#{$progress-stepper}__step--m-warning__step-icon--Color: var(--pf-t--global--icon--color--status--warning--default);
  --#{$progress-stepper}__step--m-danger__step-icon--Color: var(--pf-t--global--icon--color--status--danger--default);
  --#{$progress-stepper}__step--m-custom__step-icon--Color: var(--pf-t--global--icon--color--status--custom--default);

  // * Progress stepper step title help text
  --#{$progress-stepper}__step-title--m-help-text--PaddingInlineStart: 0;
  --#{$progress-stepper}__step-title--m-help-text--PaddingInlineEnd: 0;
  --#{$progress-stepper}__step-title--m-help-text--TextDecorationLine: var(--pf-t--global--text-decoration--help-text--line--default);
  --#{$progress-stepper}__step-title--m-help-text--TextDecorationStyle: var(--pf-t--global--text-decoration--help-text--style--default);
  --#{$progress-stepper}__step-title--m-help-text--TextUnderlineOffset: #{pf-size-prem(4px)};
  --#{$progress-stepper}__step-title--m-help-text--hover--TextDecorationLine: var(--pf-t--global--text-decoration--help-text--line--hover);
  --#{$progress-stepper}__step-title--m-help-text--hover--TextDecorationStyle: var(--pf-t--global--text-decoration--help-text--style--hover);
  --#{$progress-stepper}__step-title--m-help-text--hover--Color: var(--pf-t--global--text--color--brand--hover);

  // * Progress stepper compact
  --#{$progress-stepper}--m-compact--RowGap: var(--pf-t--global--spacer--sm);
  --#{$progress-stepper}--m-compact--ColumnGap: var(--pf-t--global--spacer--sm);

  // * Progress stepper compact step icon
  --#{$progress-stepper}--m-compact__step-icon--size: #{pf-size-prem(18px)};
  --#{$progress-stepper}--m-compact__step-icon--FontSize: var(--pf-t--global--icon--size--font--body--sm);
  --#{$progress-stepper}--m-compact__step-title--FontSize: var(--pf-t--global--font--size--body--lg);

  // * Progress stepper step connector
  --#{$progress-stepper}__step-connector--BorderWidth: var(--pf-t--global--border--width--divider--default);
  --#{$progress-stepper}__step-connector--BorderColor: var(--pf-t--global--border--color--default);
}

// - Progress stepper
.#{$progress-stepper} {
  position: relative;
  display: grid;
  grid-template-columns: 1fr;
  grid-auto-columns: 1fr;
  row-gap: var(--#{$progress-stepper}--RowGap);
  column-gap: var(--#{$progress-stepper}--ColumnGap);
  align-items: start;
  list-style-type: none;

  // Progress stepper layout vertical
  @include progress-stepper-layout.pf-v6-c-progress-stepper--m-vertical;

  @media screen and (min-width: $pf-v6-global--breakpoint--md) {
    @include progress-stepper-layout.pf-v6-c-progress-stepper--m-horizontal;
  }

  &.pf-m-horizontal {
    @include progress-stepper-layout.pf-v6-c-progress-stepper--m-horizontal;
  }

  &.pf-m-vertical {
    @include progress-stepper-layout.pf-v6-c-progress-stepper--m-vertical;
  }
}

// - Progress stepper center
.#{$progress-stepper}.pf-m-center {
  // - Progress stepper - Progress stepper main - Progress stepper title - Progress stepper description
  // - set text alignment to start by default, update to center for centered layout
  justify-items: center;
  text-align: center;

  // - Progress stepper connetor
  .#{$progress-stepper}__step-connector {
    justify-content: center;
  }
}

// - Progress stepper compact
.#{$progress-stepper}.pf-m-compact {
  display: inline-grid;
  row-gap: var(--#{$progress-stepper}--m-compact--RowGap);
  column-gap: var(--#{$progress-stepper}--m-compact--ColumnGap);

  // - Progress stepper step - Progress stepper step main
  .#{$progress-stepper}__step,
  .#{$progress-stepper}__step-main {
    display: contents; // bypass progress stepper step and step main layout
  }

  // - Progress stepper step title
  .#{$progress-stepper}__step-title {
    grid-row: 1 / 2;
    grid-column: 1 / -1;
    font-size: var(--#{$progress-stepper}--m-compact__step-title--FontSize);
  }

  // Progress stepper step icon
  .#{$progress-stepper}__step-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--#{$progress-stepper}--m-compact__step-icon--size);
    height: var(--#{$progress-stepper}--m-compact__step-icon--size);
    font-size: var(--#{$progress-stepper}--m-compact__step-icon--FontSize);
    line-height: 1;
  }

  // Progress stepper step title - Progress stepper step description
  .#{$progress-stepper}__step-title,
  .#{$progress-stepper}__step-description {
    @include pf-v6-u-screen-reader; // visually hide progress stepper step title and step description
  }

  // Progress stepper step current step title
  .#{$progress-stepper}__step.pf-m-current .#{$progress-stepper}__step-title {
    position: relative;
    display: flex;
    overflow: visible;
    white-space: normal;
  }
}

// - Progress stepper step
.#{$progress-stepper}__step {
  position: relative;
  display: grid;
  grid-column: auto;
  row-gap: var(--#{$progress-stepper}__step--RowGap);
  column-gap: var(--#{$progress-stepper}__step--ColumnGap);
  width: 100%;
  text-align: inherit;
}

// - Progress stepper step connector
.#{$progress-stepper}__step-connector {
  position: relative;
  display: inline-flex;

  // - Progress stepper step connector -/ draws connector lines with ::before pseudo
  &::before {
    position: absolute;
    inset-block: 0 calc(var(--#{$progress-stepper}--RowGap) * -1);
    inset-inline: 0 calc(var(--#{$progress-stepper}__step-icon--size) / 2);
    content: "";
    border-block-end: var(--#{$progress-stepper}__step-connector--BorderWidth) solid var(--#{$progress-stepper}__step-connector--BorderColor);
    border-inline-end: var(--#{$progress-stepper}__step-connector--BorderWidth) solid var(--#{$progress-stepper}__step-connector--BorderColor);
  }
}

// - Progress stepper step main
.#{$progress-stepper}__step-main {
  position: relative;
  display: grid;
  row-gap: var(--#{$progress-stepper}__step-main--RowGap);
  column-gap: var(--#{$progress-stepper}__step-main--ColumnGap);
  text-align: inherit;
}


// - Progress stepper step title
.#{$progress-stepper}__step-title {
  font-size: var(--#{$progress-stepper}__step-title--FontSize);
  font-weight: var(--#{$progress-stepper}__step-title--FontWeight);
  color: var(--#{$progress-stepper}__step-title--Color);

  &.pf-m-help-text {
    padding-inline-start: var(--#{$progress-stepper}__step-title--m-help-text--PaddingInlineStart);
    padding-inline-end: var(--#{$progress-stepper}__step-title--m-help-text--PaddingInlineEnd);
    text-decoration: var(--#{$progress-stepper}__step-title--m-help-text--TextDecorationLine) var(--#{$progress-stepper}__step-title--m-help-text--TextDecorationStyle);
    text-underline-offset: var(--#{$progress-stepper}__step-title--m-help-text--TextUnderlineOffset);
    cursor: pointer;

    &:is(:hover, :focus) {
      --#{$progress-stepper}__step-title--m-help-text--TextDecorationLine: var(--#{$progress-stepper}__step-title--m-help-text--hover--TextDecorationLine);
      --#{$progress-stepper}__step-title--m-help-text--TextDecorationStyle: var(--#{$progress-stepper}__step-title--m-help-text--hover--TextDecorationStyle);
      --#{$progress-stepper}__step-title--Color: var(--#{$progress-stepper}__step-title--m-help-text--hover--Color);

      cursor: pointer;
    }
  }
}

// - Progress stepper step icon
.#{$progress-stepper}__step-icon {
  z-index: var(--#{$progress-stepper}__step-icon--ZIndex);
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--#{$progress-stepper}__step-icon--size);
  height: var(--#{$progress-stepper}__step-icon--size);
  font-size: var(--#{$progress-stepper}__step-icon--FontSize);
  color: var(--#{$progress-stepper}__step-icon--Color);
  background-color: var(--#{$progress-stepper}__step-icon--BackgroundColor);
  border: var(--#{$progress-stepper}__step-icon--BorderWidth) solid var(--#{$progress-stepper}__step-icon--BorderColor);
  border-radius: 50%;
}

// - Progress stepper step description
.#{$progress-stepper}__step-description {
  font-size: var(--#{$progress-stepper}__step-description--FontSize);
  color: var(--#{$progress-stepper}__step-description--Color);
}


// - Progress stepper step current
.#{$progress-stepper}__step.pf-m-current {
  // - Progress stepper step current step icon
  .#{$progress-stepper}__step-icon {
    color: var(--#{$progress-stepper}__step--m-current__step-icon--Color);
  }

  // - Progress stepper step current step title
  .#{$progress-stepper}__step-title {
    font-weight: var(--#{$progress-stepper}__step--m-current__step-title--FontWeight);
    color: var(--#{$progress-stepper}__step--m-current__step-title--Color);
  }
}

// - Progress stepper step danger
.#{$progress-stepper}__step.pf-m-danger {
  // - Progress stepper step danger step icon
  .#{$progress-stepper}__step-icon {
    color: var(--#{$progress-stepper}__step--m-danger__step-icon--Color);
  }

  // - Progress stepper step danger step title
  .#{$progress-stepper}__step-title {
    color: var(--#{$progress-stepper}__step--m-danger__step-title--Color);

    &.pf-m-help-text:hover {
      color: var(--#{$progress-stepper}__step--m-danger__step-title--m-help-text--hover--Color); // Help text variables for failure state
    }
  }
}

// - Progress stepper step pending
.#{$progress-stepper}__step.pf-m-pending .#{$progress-stepper}__step-icon {
  color: var(--#{$progress-stepper}__step--m-pending__step-title--Color);
}

// - Progress stepper step success
.#{$progress-stepper}__step.pf-m-success .#{$progress-stepper}__step-icon {
  color: var(--#{$progress-stepper}__step--m-success__step-icon--Color);
}

// - Progress stepper step warning
.#{$progress-stepper}__step.pf-m-warning .#{$progress-stepper}__step-icon {
  color: var(--#{$progress-stepper}__step--m-warning__step-icon--Color);
}

// - Progress stepper step info
.#{$progress-stepper}__step.pf-m-info .#{$progress-stepper}__step-icon {
  color: var(--#{$progress-stepper}__step--m-info__step-icon--Color);
}

// - Progress stepper step custom
.#{$progress-stepper}__step.pf-m-custom .#{$progress-stepper}__step-icon {
  color: var(--#{$progress-stepper}__step--m-custom__step-icon--Color);
}

// stylelint-disable
.#{$progress-stepper} {
  .fas,
  .pf-v6-pficon,
  .fa-exclamation-triangle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
  }
}
// stylelint-enable

// stylelint-disable
// Progress stepper step title button
button.#{$progress-stepper}__step-title {
  margin: 0;
  padding: 0;
  text-align: inherit;
  background: none;
  border: 0;
}
// stylelint-enable
